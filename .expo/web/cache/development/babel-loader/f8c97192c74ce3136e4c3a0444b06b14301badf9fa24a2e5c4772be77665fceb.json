{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = React.createContext({});\nexport default function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isLogged = _React$useState2[0],\n    setIsLogged = _React$useState2[1];\n  function singIn() {\n    return _singIn.apply(this, arguments);\n  }\n  function _singIn() {\n    _singIn = _asyncToGenerator(function* () {\n      var client_id = '620948389013-bffgnf1j063tslu0lrnjd8dso5ukt1j8.apps.googleusercontent.com';\n      var redirect_uri = 'https://auth.expo.io/@christianmorati/fast-market';\n      var response_type = 'token';\n      var scope = encodeURI('profile email');\n      console.log('im here');\n      var googleOAuthUrl = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${client_id}&redirect_uri=${redirect_uri}&response_type=${response_type}&scope=${scope}`;\n      try {\n        var result = yield WebBrowser.openAuthSessionAsync(googleOAuthUrl, redirect_uri);\n        console.log(result);\n        if (result.type === 'success') {\n          console.log(result);\n        } else {\n          console.log('deu ruim');\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return _singIn.apply(this, arguments);\n  }\n  return _jsx(AuthContext.Provider, {\n    value: {\n      isLogged: isLogged,\n      setIsLogged: setIsLogged,\n      singIn: singIn\n    },\n    children: children\n  });\n}\n;\nexport function useAuth() {\n  var context = React.useContext(AuthContext);\n  return context;\n}","map":{"version":3,"names":["React","WebBrowser","jsx","_jsx","AuthContext","createContext","AuthProvider","_ref","children","_React$useState","useState","_React$useState2","_slicedToArray","isLogged","setIsLogged","singIn","_singIn","apply","arguments","_asyncToGenerator","client_id","redirect_uri","response_type","scope","encodeURI","console","log","googleOAuthUrl","result","openAuthSessionAsync","type","error","Provider","value","useAuth","context","useContext"],"sources":["/home/dev/Documents/projects/react native/fast-market-react-native-app-main/src/app/contexts/auth-context.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\ntype User = {\n    email: string,\n    password: string\n}\n\ninterface AuthContextProps {\n    isLogged: boolean;\n    setIsLogged: React.Dispatch<React.SetStateAction<boolean>>;\n    singIn: () => void\n}\n\nexport const AuthContext = React.createContext<AuthContextProps>({} as AuthContextProps);\n\nexport default function AuthProvider({ children }: { children: React.ReactNode }) {\n\n    const [isLogged, setIsLogged] = React.useState<boolean>(false);\n\n    // const [userInfo, setUserInfo] = React.useState(null);\n    // const [request, response, promptAsync] = Google.useAuthRequest({\n    //     androidClientId: \"\",\n    //     iosClientId: \"620948389013-dmampn6uh73hnndmqlb27vaah2an0tn5.apps.googleusercontent.com\",\n    //     webClientId: \"620948389013-bffgnf1j063tslu0lrnjd8dso5ukt1j8.apps.googleusercontent.com\",\n    // })\n\n    async function singIn() {\n        const client_id = '620948389013-bffgnf1j063tslu0lrnjd8dso5ukt1j8.apps.googleusercontent.com';\n        const redirect_uri = 'https://auth.expo.io/@christianmorati/fast-market';\n        const response_type = 'token';\n        const scope = encodeURI('profile email');\n\n        console.log('im here')\n\n        const googleOAuthUrl = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${client_id}&redirect_uri=${redirect_uri}&response_type=${response_type}&scope=${scope}`;\n\n        try {\n            let result = await WebBrowser.openAuthSessionAsync(googleOAuthUrl, redirect_uri);\n            console.log(result);\n\n            // Handle the result here\n            if (result.type === 'success') {\n                console.log(result)\n            } else {\n                console.log('deu ruim')\n                // Handle different types of results (cancelation, etc.) here\n            }\n        } catch (error) {\n            // Handle error if any\n            console.error(error);\n        }\n    }\n\n    return (\n        <AuthContext.Provider value={{ isLogged, setIsLogged, singIn }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport function useAuth() {\n    const context = React.useContext(AuthContext);\n    return context;\n}"],"mappings":";;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,UAAU,MAAM,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAgB/C,OAAO,IAAMC,WAAW,GAAGJ,KAAK,CAACK,aAAa,CAAmB,CAAC,CAAqB,CAAC;AAExF,eAAe,SAASC,YAAYA,CAAAC,IAAA,EAA8C;EAAA,IAA3CC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAE3C,IAAAC,eAAA,GAAgCT,KAAK,CAACU,QAAQ,CAAU,KAAK,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAAvDI,QAAQ,GAAAF,gBAAA;IAAEG,WAAW,GAAAH,gBAAA;EAAmC,SAShDI,MAAMA,CAAA;IAAA,OAAAC,OAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,QAAA;IAAAA,OAAA,GAAAG,iBAAA,CAArB,aAAwB;MACpB,IAAMC,SAAS,GAAG,0EAA0E;MAC5F,IAAMC,YAAY,GAAG,mDAAmD;MACxE,IAAMC,aAAa,GAAG,OAAO;MAC7B,IAAMC,KAAK,GAAGC,SAAS,CAAC,eAAe,CAAC;MAExCC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MAEtB,IAAMC,cAAc,GAAI,0DAAyDP,SAAU,iBAAgBC,YAAa,kBAAiBC,aAAc,UAASC,KAAM,EAAC;MAEvK,IAAI;QACA,IAAIK,MAAM,SAAS3B,UAAU,CAAC4B,oBAAoB,CAACF,cAAc,EAAEN,YAAY,CAAC;QAChFI,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;QAGnB,IAAIA,MAAM,CAACE,IAAI,KAAK,SAAS,EAAE;UAC3BL,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;QACvB,CAAC,MAAM;UACHH,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;QAE3B;MACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;QAEZN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;MACxB;IACJ,CAAC;IAAA,OAAAf,OAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAED,OACIf,IAAA,CAACC,WAAW,CAAC4B,QAAQ;IAACC,KAAK,EAAE;MAAEpB,QAAQ,EAARA,QAAQ;MAAEC,WAAW,EAAXA,WAAW;MAAEC,MAAM,EAANA;IAAO,CAAE;IAAAP,QAAA,EAC1DA;EAAQ,CACS,CAAC;AAE/B;AAAC;AAED,OAAO,SAAS0B,OAAOA,CAAA,EAAG;EACtB,IAAMC,OAAO,GAAGnC,KAAK,CAACoC,UAAU,CAAChC,WAAW,CAAC;EAC7C,OAAO+B,OAAO;AAClB"},"metadata":{},"sourceType":"module","externalDependencies":[]}