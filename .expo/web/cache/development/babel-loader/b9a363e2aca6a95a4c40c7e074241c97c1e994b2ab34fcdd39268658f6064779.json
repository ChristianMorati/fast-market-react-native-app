{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport SectionList from \"react-native-web/dist/exports/SectionList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FeaturedProducts from \"../../components/products/featured-products/featured-products\";\nimport { colors } from \"../../global-styles\";\nimport { useProductContext } from \"../../contexts/product-context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Home() {\n  var productContext = useProductContext();\n  var _useState = useState(undefined),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoadingProducts = _useState4[0],\n    setIsLoadingProducts = _useState4[1];\n  var LoadProducts = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch(\"http://localhost:3000/product\");\n        var data = yield response.json();\n        console.error(data);\n        setProducts(data);\n        return products;\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n        setProducts(undefined);\n        return undefined;\n      }\n    });\n    return function LoadProducts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    var x = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var temp = yield LoadProducts();\n        if (temp) setIsLoadingProducts(false);\n      });\n      return function x() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    x();\n  }, []);\n  var sections = [{\n    title: 'Featured Products',\n    data: [_jsx(FeaturedProducts, {\n      products: productContext.products\n    })]\n  }];\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [!isLoadingProducts && _jsx(SectionList, {\n      style: {},\n      sections: sections,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return item;\n      }\n    }), isLoadingProducts && _jsx(Text, {\n      children: \"ertertertert\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: colors.mainAppColor\n  }\n});\nexport default Home;","map":{"version":3,"names":["React","useEffect","useState","SectionList","SafeAreaView","StyleSheet","Text","FeaturedProducts","colors","useProductContext","jsx","_jsx","jsxs","_jsxs","Home","productContext","_useState","undefined","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","isLoadingProducts","setIsLoadingProducts","LoadProducts","_ref","_asyncToGenerator","response","fetch","data","json","console","error","apply","arguments","x","_ref2","temp","sections","title","style","styles","container","children","renderItem","_ref3","item","create","flex","justifyContent","backgroundColor","mainAppColor"],"sources":["/home/dev/Documents/projects/react native/fast-market-react-native-app-main/src/app/pages/home/home.tsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { SectionList, SafeAreaView, StyleSheet, Text } from 'react-native';\nimport FeaturedProducts from '../../components/products/featured-products/featured-products';\nimport { colors } from '../../global-styles';\nimport { useProductContext } from '../../contexts/product-context';\nimport Product from '../../models/productModel';\n\n\nfunction Home() {\n\n  const productContext = useProductContext();\n\n    const [products, setProducts] = useState<Product[] | undefined>(undefined);\n    const [isLoadingProducts, setIsLoadingProducts] = useState<boolean>(true);\n\n    const LoadProducts = async (): Promise<Product[] | undefined> => {\n        try {\n            const response = await fetch(\"http://localhost:3000/product\");\n            const data = await response.json();\n            console.error(data);\n            setProducts(data);\n            return products;\n        } catch (error) {\n            console.error(\"Error fetching products:\", error);\n            setProducts(undefined);\n            return undefined\n        }\n    };\n\n    useEffect(()=>{\n        let x = async ()=>{\n            let temp = await LoadProducts()\n            if(temp) setIsLoadingProducts(false);\n        }\n        \n        x();\n    },[])\n\n    const sections = [\n      {\n        title: 'Featured Products', data: [<FeaturedProducts products={productContext.products} />]\n      },\n    ];\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {!isLoadingProducts && (\n        <SectionList\n          style={{}}\n          sections={sections}\n          renderItem={({ item }) => item}\n        />\n        )}\n        {isLoadingProducts && (\n          <Text>ertertertert</Text>\n          )}\n        </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: colors.mainAppColor,\n  },\n});\n\nexport default Home;"],"mappings":";;AAAA,OAAOA,KAAK,IAAgBC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,WAAA;AAAA,OAAAC,YAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAE/D,OAAOC,gBAAgB;AACvB,SAASC,MAAM;AACf,SAASC,iBAAiB;AAAyC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAInE,SAASC,IAAIA,CAAA,EAAG;EAEd,IAAMC,cAAc,GAAGN,iBAAiB,CAAC,CAAC;EAExC,IAAAO,SAAA,GAAgCd,QAAQ,CAAwBe,SAAS,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAAnEI,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAAI,UAAA,GAAkDpB,QAAQ,CAAU,IAAI,CAAC;IAAAqB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAlEE,iBAAiB,GAAAD,UAAA;IAAEE,oBAAoB,GAAAF,UAAA;EAE9C,IAAMG,YAAY;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAA4C;MAC7D,IAAI;QACA,IAAMC,QAAQ,SAASC,KAAK,CAAC,+BAA+B,CAAC;QAC7D,IAAMC,IAAI,SAASF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClCC,OAAO,CAACC,KAAK,CAACH,IAAI,CAAC;QACnBV,WAAW,CAACU,IAAI,CAAC;QACjB,OAAOX,QAAQ;MACnB,CAAC,CAAC,OAAOc,KAAK,EAAE;QACZD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDb,WAAW,CAACJ,SAAS,CAAC;QACtB,OAAOA,SAAS;MACpB;IACJ,CAAC;IAAA,gBAZKS,YAAYA,CAAA;MAAA,OAAAC,IAAA,CAAAQ,KAAA,OAAAC,SAAA;IAAA;EAAA,GAYjB;EAEDnC,SAAS,CAAC,YAAI;IACV,IAAIoC,CAAC;MAAA,IAAAC,KAAA,GAAAV,iBAAA,CAAG,aAAU;QACd,IAAIW,IAAI,SAASb,YAAY,CAAC,CAAC;QAC/B,IAAGa,IAAI,EAAEd,oBAAoB,CAAC,KAAK,CAAC;MACxC,CAAC;MAAA,gBAHGY,CAACA,CAAA;QAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;MAAA;IAAA,GAGJ;IAEDC,CAAC,CAAC,CAAC;EACP,CAAC,EAAC,EAAE,CAAC;EAEL,IAAMG,QAAQ,GAAG,CACf;IACEC,KAAK,EAAE,mBAAmB;IAAEV,IAAI,EAAE,CAACpB,IAAA,CAACJ,gBAAgB;MAACa,QAAQ,EAAEL,cAAc,CAACK;IAAS,CAAE,CAAC;EAC5F,CAAC,CACF;EAEH,OACEP,KAAA,CAACT,YAAY;IAACsC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GACnC,CAACrB,iBAAiB,IACjBb,IAAA,CAACR,WAAW;MACVuC,KAAK,EAAE,CAAC,CAAE;MACVF,QAAQ,EAAEA,QAAS;MACnBM,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGC,IAAI,GAAAD,KAAA,CAAJC,IAAI;QAAA,OAAOA,IAAI;MAAA;IAAC,CAChC,CACA,EACAxB,iBAAiB,IAChBb,IAAA,CAACL,IAAI;MAAAuC,QAAA,EAAC;IAAY,CAAM,CACvB;EAAA,CACW,CAAC;AAEvB;AAEA,IAAMF,MAAM,GAAGtC,UAAU,CAAC4C,MAAM,CAAC;EAC/BL,SAAS,EAAE;IACTM,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,eAAe,EAAE5C,MAAM,CAAC6C;EAC1B;AACF,CAAC,CAAC;AAEF,eAAevC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}